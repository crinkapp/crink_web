<div class="page-content d-flex align-items-center justify-content-center flex-column">
  <div class="bg-white window mx-auto rounded p-4 shadow">
    <div class="py-2 display-4 text-dark font-weight-light text-center">
      <a [routerLink]="['/']" class="text-decoration-none">
        <img src="assets/icon/crink-icon-brown.svg" alt="Crink" tilte="Crink" height="40">
      </a>
    </div>
    <hr class="mt-3 mb-5">
    <div *ngIf="!sent else unsubscribeSuccess">
      <form (submit)="onSubmit()" #f="ngForm">
        <div class="d-flex flex-column justify-content-center">
          <p class="text-muted text-center">Veuillez confirmer votre adresse email pour vous désabonner:</p>
          <div class="w-75 mx-auto">
            <input
            type="email"
            name="email"
            class="form-control mt-3 mb-2"
            [ngClass]="{'is-invalid': error && error !== null && !loading}"
            placeholder="email@crink.fr"
            [(ngModel)]="email"
            [disabled]="loading || sent"
            required>
            <div class="invalid-feedback" *ngIf="error && error !== null && !loading">
              {{incorrectEmail ? 'Votre email ne correspond pas.' : 'Veuillez saisir une adresse email valide.'}}
            </div>
          </div>
        </div>
        <button
        class="btn btn-outline-danger my-3 d-flex mx-auto"
        [disabled]="f.invalid">Se désabonner</button>
      </form>
    </div>

    <ng-template #unsubscribeSuccess>
      <div class="d-flex flex-column align-items-center justify-content-center">
        <p class="text-muted text-center font-weight-light">Vous vous êtes bien désabonné.</p>
        <a [routerLink]="['/']" class="text-center text-decoration-none my-2 text-sm font-weight-light">Retour à l'accueil</a>
      </div>
    </ng-template>

  </div>
</div>
